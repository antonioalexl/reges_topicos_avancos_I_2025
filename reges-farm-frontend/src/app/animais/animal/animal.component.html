
<div class="card">
  <div class="card-header">Animal</div>
  <form #animalForm="ngForm" (ngSubmit)="onSubmit(animalForm)">
    <div class="card-body">

        <div class="row ">
          <div class="col-12 col-md-1" >
            <label for="codigo" class="form-label">Código</label>
            <input
              id="codigo"
              type="text"
              class="form-control"
              [(ngModel)]="animal.id"
              name="id"
              [disabled]="animal.id! > 0"
            />
          </div>
          <div class="col-12 col-md-2">
            <label for="dataNascimento" class="form-label">Data de Nascimento</label>
            <input
              id="dataNascimento"
              type="date"
              class="form-control"
              [(ngModel)]="animal.dataNascimento"
              name="dataNascimento"
              [disabled]="this.modoEdicao"
              required
            />
          </div>

          <div class="col-12 col-md-2">
            <label for="sexo" class="form-label">Sexo</label>
            <select
              id="sexo"
              class="form-select"
              [(ngModel)]="animal.sexo"
              name="sexo"
               [disabled]="this.modoEdicao"
              required
            >
              <option value="M">Macho</option>
              <option value="F">Fêmea</option>
            </select>
          </div>
          <div class="col-12 col-md-2">
            <label for="cor" class="form-label">Cor</label>
            <input
              id="cor"
              type="text"
              class="form-control"
              [(ngModel)]="animal.cor"
               [disabled]="this.modoEdicao"
              name="cor"
            />
          </div>

          <div class="col-12 col-md-2">
            <label for="raca" class="form-label">Raça</label>
            <input
              id="raca"
              type="text"
              class="form-control"
              [(ngModel)]="animal.raca"
               [disabled]="this.modoEdicao"
              name="raca"
            />
          </div>
          <div class="col-12 col-md-1">
            <label for="peso" class="form-label">Peso (kg)</label>
            <input
              id="peso"
              type="number"
              class="form-control"
              [(ngModel)]="animal.peso"
               [disabled]="this.modoEdicao"
              name="peso"
            />
          </div>

          <div class="col-12 col-md-2">
            <label for="especie" class="form-label">Espécie</label>
            <select
              id="especie"
              class="form-select"
              [(ngModel)]="animal.especie"
               [disabled]="this.modoEdicao"
              name="especie"
              required
            >
              <option value="Bovino">Bovino</option>
              <option value="Suíno">Suíno</option>
              <option value="Ave">Ave</option>
            </select>
          </div>
        </div>

        <div class="row ">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <label for="observacao" class="form-label">Observação</label>
            <textarea
              id="observacao"
              class="form-control"
              [(ngModel)]="animal.observacao"
               [disabled]="this.modoEdicao"
              name="observacao"
              rows="3"
            ></textarea>
          </div>
        </div>
      </div>

    <div class="card-footer d-flex justify-content-end gap-2">
      <a *ngIf="this.emEdicao == false" class="btn btn-secondary btn-sm" [routerLink]="['/animais']">Voltar</a>

  <button
        type="button"
        (click)="onCancelar()"
        class="btn btn-secondary btn-sm"
        [disabled]="!animalForm.valid"
        *ngIf="this.emEdicao"
      >
        Cancelar
      </button>


      <button
        type="submit"
        *ngIf="!this.modoEdicao"
        class="btn btn-primary btn-sm"
        [disabled]="!animalForm.valid"
      >
        Salvar
      </button>

      <button
      (click)="onEditar()"
        type="button"
        *ngIf="this.modoEdicao"
        class="btn btn-primary btn-sm"
      >
        Editar
      </button>

    </div>
  </form>
</div>
